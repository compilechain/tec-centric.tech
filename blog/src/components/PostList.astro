---
import { getCollection } from "astro:content";
const posts = await getCollection("posts", ({ data }) => !data.draft);
const sorted = posts.sort((a,b)=>new Date(b.data.date)-new Date(a.data.date));
---
<ul style="list-style:none;padding:0;margin:0;display:grid;gap:16px">
  {sorted.map(({ data, slug }) => (
    <li class="card">
      <a href={`/blog/${slug}/`}><h2 style="margin:0 0 6px">{data.title}</h2></a>
      <div class="muted" style="font-size:14px">{new Date(data.date).toLocaleDateString()} Â· {data.readingTime ?? "5 min read"}</div>
      <p style="margin:8px 0 0">{data.description}</p>
    </li>
  ))}
</ul>
